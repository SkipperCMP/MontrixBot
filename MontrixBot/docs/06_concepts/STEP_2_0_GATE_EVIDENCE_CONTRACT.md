# üßæ STEP 2.0 ‚Äî Gate Evidence Contract

**–ü—Ä–æ–µ–∫—Ç:** MontrixBot  
**–í–µ—Ä—Å–∏—è:** v2.0-preA (post-GD)  
**–°—Ç–∞—Ç—É—Å:** Evidence contract fixed, implementation not started  
**–û—Å–Ω–æ–≤–∞–Ω–∏–µ:**  
- SNAPSHOT.md  
- GD_STEP_2_X_AUTO_REAL.md  
- STEP_2_0_ARCHITECTURE.md  
- STEP_2_0_IMPLEMENTATION_BOUNDARY.md  
- STEP_2_0_MODULE_BREAKDOWN.md  
- STEP_2_0_FSM_INTEGRATION.md  
- STEP_2_0_COMMAND_SURFACE.md  

---

## 1. Purpose

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç:

- —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç **—á—Ç–æ GateEngine –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ —á–∏—Ç–∞—Ç—å** (evidence sources),
- —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç **—á—Ç–æ GateEngine –∑–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**,
- —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç `reasons[]` –∏ `evidence`,
- –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ observability –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.

–î–æ–∫—É–º–µ–Ω—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –Ω–µ —Ä–∞—Å—à–∏—Ä—è–µ—Ç boundary.

---

## 2. Gate Decision Output (Canonical)

GateEngine –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

decision: ALLOW | VETO
reasons: [string, string, ...] // 2‚Äì3 –ø—Ä–∏—á–∏–Ω—ã, —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ
evidence: opaque references // —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å/—Å–Ω–∏–º–∫–∏/–º–µ—Ç—Ä–∏–∫–∏

yaml
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥

–ü—Ä–∞–≤–∏–ª–æ:

- `reasons[]` –æ–±—è–∑–∞–Ω—ã –±—ã—Ç—å **–∫–æ—Ä–æ—Ç–∫–∏–º–∏** –∏ **–ø–æ–Ω—è—Ç–Ω—ã–º–∏**,
- `evidence` –æ–±—è–∑–∞–Ω–æ –±—ã—Ç—å **–Ω–µ-—É–ø—Ä–∞–≤–ª—è—é—â–∏–º** –∏ **–∞—É–¥–∏—Ä—É–µ–º—ã–º**.

---

## 3. Allowed Evidence Sources (Read-Only)

GateEngine –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ **read-only** –∏—Å—Ç–æ—á–Ω–∏–∫–∏.

### 3.1. Technical Blocks (Highest Priority)

- `BNB_LOW`
- `EXCHANGE_API_DEGRADED` (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- `RATE_LIMIT_LOCK` (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- –∏–Ω—ã–µ —Ç–µ—Ö–±–ª–æ–∫–∏ –∏–∑ `TechnicalBlockRegistry`

–ü—Ä–∞–≤–∏–ª–æ:
- –∞–∫—Ç–∏–≤–Ω—ã–π —Ç–µ—Ö–±–ª–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏—á–∏–Ω–æ–π `VETO`.

---

### 3.2. System Health / Readiness (Observability Only)

–†–∞–∑—Ä–µ—à–µ–Ω–æ —á–∏—Ç–∞—Ç—å:

- –Ω–∞–ª–∏—á–∏–µ/–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è,
- –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—é –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (–µ—Å–ª–∏ —ç—Ç–æ —É–∂–µ —á–∞—Å—Ç—å observability),
- –±–∞–∑–æ–≤—É—é ‚Äú–∂–∏–≤–æ—Å—Ç—å‚Äù —Å–µ—Ä–≤–∏—Å–æ–≤.

–ü—Ä–∞–≤–∏–ª–æ:
- readiness –æ—Å—Ç–∞—ë—Ç—Å—è **observability**, –Ω–æ Gate –º–æ–∂–µ—Ç –Ω–∞ –µ—ë –æ—Å–Ω–æ–≤–µ **–≤–µ—Ç–∏—Ä–æ–≤–∞—Ç—å**.

---

### 3.3. Market Condition Evidence (Non-Controlling)

–†–∞–∑—Ä–µ—à–µ–Ω–æ —á–∏—Ç–∞—Ç—å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ ‚Äúmarket_condition‚Äù —Ç–æ–ª—å–∫–æ –∫–∞–∫ **evidence snapshot**, –Ω–∞–ø—Ä–∏–º–µ—Ä:

- market phase label (–µ—Å–ª–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∫–∞–∫ SIM output),
- anomaly/normalization flags (–µ—Å–ª–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∫–∞–∫ SIM output),
- volatility regime label (–µ—Å–ª–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∫–∞–∫ SIM output).

–ü—Ä–∞–≤–∏–ª–∞:
- GateEngine –Ω–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç SIM,
- GateEngine –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç REAL —á–µ—Ä–µ–∑ SIM,
- SIM outputs –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–∞–∫ read-only evidence.

---

### 3.4. Time / Cooldown Evidence (If Implemented)

–†–∞–∑—Ä–µ—à–µ–Ω–æ:

- –ø—Ä–æ—Å—Ç—ã–µ cooldown-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚Äú–ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏ X –¥–µ—Ä–∂–∏–º –ø–∞—É–∑—É Y –º–∏–Ω—É—Ç‚Äù),
- –Ω–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫–∞–∫ —è–≤–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ STEP 2.0.

–ü—Ä–∞–≤–∏–ª–æ:
- cooldown –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±—ä—è—Å–Ω–∏–º—ã–º –∏ –ª–æ–≥–∏—Ä—É–µ–º—ã–º.

---

## 4. Forbidden Evidence (Hard Ban)

GateEngine **–∑–∞–ø—Ä–µ—â–µ–Ω–æ**:

- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ‚ÄúP&L‚Äù –∫–∞–∫ –ø—Ä–∏—á–∏–Ω—É —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è/–∑–∞–ø—Ä–µ—Ç–∞,
- –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –ø–æ–¥ –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å,
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ‚Äú–æ—â—É—â–µ–Ω–∏—è —Ä—ã–Ω–∫–∞‚Äù –±–µ–∑ —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ evidence,
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–∞—É–¥–∏—Ä—É–µ–º—ã–µ —ç–≤—Ä–∏—Å—Ç–∏–∫–∏ –±–µ–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞,
- ‚Äú–ø–æ–¥–≥–ª—è–¥—ã–≤–∞—Ç—å‚Äù –≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏ STEP 1.x
  (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞, —Å–∏–≥–Ω–∞–ª—ã –≤—Ö–æ–¥–∞, —Ä–∏—Å–∫-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏).

GateEngine **–Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞**:

- –º–µ–Ω—è—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é,
- –º–µ–Ω—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–¥–µ–ª–æ–∫,
- –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å —Å–¥–µ–ª–∫–∏,
- –º–µ–Ω—è—Ç—å SIM outputs,
- –¥–µ–ª–∞—Ç—å silent decisions.

---

## 5. Decision Semantics

### 5.1. VETO

Gate –º–æ–∂–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å `VETO` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:

- –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π tech_block, –∏–ª–∏
- –µ—Å—Ç—å health/readiness —Ä–∏—Å–∫, –∏–ª–∏
- market evidence —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —è–≤–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º veto.

–ö–∞–∂–¥—ã–π `VETO` –æ–±—è–∑–∞–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:

- 2‚Äì3 –ø—Ä–∏—á–∏–Ω—ã,
- evidence references.

---

### 5.2. ALLOW

`ALLOW` –æ–∑–Ω–∞—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ:

- ‚ÄúGate –Ω–µ –ø—Ä–æ—Ç–∏–≤ –Ω–æ–≤—ã—Ö –æ—Ç–∫—Ä—ã—Ç–∏–π‚Äù
- –∏ **–Ω–µ –æ—Ç–º–µ–Ω—è–µ—Ç** –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è AutonomyPolicy / FSM / locks.

`ALLOW` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è ‚Äú—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º –Ω–∞ —Ç–æ—Ä–≥–æ–≤–ª—é‚Äù —Å–∞–º –ø–æ —Å–µ–±–µ.

---

## 6. Reasons Format Rules (Hard)

`reasons[]`:

- –º–∞–∫—Å–∏–º—É–º 3 –ø—É–Ω–∫—Ç–∞,
- –∫–∞–∂–¥—ã–π –ø—É–Ω–∫—Ç <= 80 —Å–∏–º–≤–æ–ª–æ–≤,
- –±–µ–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏,
- –±–µ–∑ ‚Äú—Å–º. –ª–æ–≥‚Äù –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏—á–∏–Ω—ã.

–ü—Ä–∏–º–µ—Ä –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö reasons:

- `BNB low ‚Äî –∫–æ–º–∏—Å—Å–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã`
- `Exchange degraded ‚Äî —Ä–∏—Å–∫ –æ—Ç–∫–∞–∑–∞ –æ—Ä–¥–µ—Ä–æ–≤`
- `Market abnormal ‚Äî –∂–¥—ë–º –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é`

---

## 7. Evidence Reference Rules

`evidence`:

- —ç—Ç–æ —Å—Å—ã–ª–∫–∏/–∫–ª—é—á–∏ –Ω–∞ –∑–∞–ø–∏—Å–∏ observability,
- –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è UI –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –º–µ—Ö–∞–Ω–∏–∑–º,
- —Ö—Ä–∞–Ω–∏—Ç—Å—è –¥–ª—è –∞—É–¥–∏—Ç–∞.

–ü—Ä–∏–º–µ—Ä (–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ):

evidence:

"tech_block:BNB_LOW@<ts>"

"health:exchange_api_degraded@<ts>"

"sim:market_phase=ABNORMAL@<ts>"

yaml
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥

---

## 8. Compliance Checklist

–ü–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π GateEngine –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å:

- –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ allowed evidence sources,
- forbidden evidence –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è,
- reasons —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä–æ—Ç–∫–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ,
- evidence –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è,
- Gate –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ –∏ –Ω–µ –º–µ–Ω—è–µ—Ç STEP 1.x.

---

### ‚úî STEP 2.0 Gate Evidence Contract Fixed