> **Назначение документа (Scope only)**
>
> Данный чек-лист:
> - **не даёт разрешения** на реализацию STEP 2.0,
> - **не переопределяет** Roadmap или Governance-решения,
> - используется исключительно для **фиксации и перечисления элементов scope**.
>
> Реализация возможна **только** при наличии отдельного governance-решения на исполнение.

# STEP 2.0 — Scope Checklist (перенос “недоделанного” из 1.x)

> **Проект:** MontrixBot  
> **Документ:** Scope checklist (ненормативный, рабочий)  
> **Основание:** STEP 2+ Concept + фактическое состояние 1.9.x  
> **Цель:** зафиксировать, что именно мы реализуем в STEP 2.0 как “то, чего не было/не нужно в 1.x”

---

## 0) Контекст: что мы НЕ делаем в 2.0

- Не переписываем STEP 1.x задним числом
- Не превращаем readiness/incidents/replay 1.x в gate без нового решения
- Не делаем “умные” авто-решения без объяснимости и явных разрешений
- Не делаем “эксперименты на REAL”

---

## 1) Перенос №1: Разрешение на автономию (Permission Model)

### 1.1 Режимы автономии (управляются независимо)
- [ ] Авто/ручной выбор стратегий (strategy selection)
- [ ] Авто/ручное исполнение ордеров (order execution)
- [ ] Авто/выключено изменение параметров стратегий (strategy adaptation)
- [ ] Авто/ручная пауза торговли (trading pause)

### 1.2 Правило “ручной STOP”
- [ ] Человек может вручную остановить SIM
- [ ] Человек может вручную остановить REAL
- [ ] После ручного STOP: **автозапуск запрещён** (только ручной старт/подтверждение)

---

## 2) Перенос №2: Gate на базе readiness/policy (то, чего не было в 1.x)

> В 1.x readiness = диагностика. В 2.0 вводим gate-решение (ALLOW/VETO) как отдельный слой.

- [ ] Gate учитывает: SAFE / PANIC / trading_gate / стратегия PAUSED
- [ ] Gate учитывает readiness (как критерий допуска)
- [ ] Любое VETO должно иметь причину (2–3 пункта максимум для человека)
- [ ] Решение gate логируется (trace/лог), чтобы всегда было “почему”

---

## 3) Перенос №3: Операционное состояние “на виду” (UI + /status)

### 3.1 Постоянная панель состояния (минимум)
- [ ] Торгует или нет (активно/пауза)
- [ ] Если пауза — почему (2–3 причины)
- [ ] Если есть открытая позиция — какая монета + кратко PnL
- [ ] Прибыль за день (достаточно одного числа)

### 3.2 Команда статуса (Telegram и/или UI-команда)
- [ ] `/status` возвращает:
  - торгует/нет
  - если нет — почему
  - открытая позиция (если есть) кратко

### 3.3 История
- [ ] История событий доступна **в логах/UI**, не обязана быть в Telegram цепочкой

---

## 4) Перенос №4: Уведомления (то, что в 1.x сознательно не делали)

### 4.1 Telegram уведомления (событийные)
Отправляем уведомление при:
- [ ] остановке торговли
- [ ] изменении причин паузы
- [ ] возобновлении торговли
- [ ] технической блокировке (например, BNB)
Формат:
- [ ] коротко
- [ ] причины 2–3 пункта
- [ ] без кнопок управления (команды пишет человек)

### 4.2 Суточный отчёт
- [ ] 1 раз в сутки
- [ ] в фиксированное время
- [ ] кратко (итог дня)

---

## 5) Перенос №5: Диалог “рискованные команды” (двухшаговое подтверждение)

- [ ] Если команда считается рискованной: предупреждение + ожидание подтверждения
- [ ] Подтверждение: `да` / `yes`
- [ ] После подтверждения: сообщение “что именно сделано”
- [ ] Если не получилось: “что/почему” + варианты “что делать дальше”

---

## 6) Перенос №6: Автопокупка BNB для комиссий

### 6.1 Поведение
- [ ] Автопокупка BNB — техническая операция (не стратегия)
- [ ] Включается/выключается явно (флагом)

### 6.2 Если автопокупка невозможна
- [ ] **Остановить открытие новых сделок**
- [ ] Довести до конца открытые позиции
- [ ] SIM продолжает анализ
- [ ] Отправить уведомление о причине

---

## 7) Перенос №7: Эксклюзивность стратегий по монете (портфельное исполнение)

- [ ] “1 монета = 1 стратегия”
- [ ] Другая стратегия может взять монету только после закрытия позиции
- [ ] Параллельные стратегии допускаются, но без конфликтов по активу

---

## 8) Перенос №8: Пауза/возврат как нормальный режим, а не авария

- [ ] Автопауза: не открывать новые, завершать открытые, ждать нормализации
- [ ] Возврат:
  - [ ] если пауза авто — может стартовать сам (при высокой уверенности) + уведомление
  - [ ] если пауза ручная — старт только человеком
- [ ] Адаптация “отпускание гаек” идёт тихо и фиксируется в логах

---

## 9) Выход STEP 2.0 (Definition of Done, в человеческих терминах)

STEP 2.0 можно считать готовым, когда:
- [ ] есть понятный “вкл/выкл автономии” по модулям
- [ ] есть gate (allow/veto) с объяснимыми причинами
- [ ] есть Telegram уведомления + суточный отчёт
- [ ] есть `/status` и панель состояния в UI
- [ ] есть BNB auto-topup и корректная блокировка новых сделок при невозможности
- [ ] ручной STOP всегда сильнее автоматики и запрещает авто-старт

---
